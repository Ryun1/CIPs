{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://github.com/cardano-foundation/CIPs/.github/schemas/cip-header.schema.json",
  "title": "CIP Header Schema",
  "description": "JSON Schema for validating YAML frontmatter headers in Cardano Improvement Proposals (CIPs)",
  "type": "object",
  "required": [
    "CIP",
    "Title",
    "Category",
    "Status",
    "Authors",
    "Implementors",
    "Discussions",
    "Created",
    "License"
  ],
  "properties": {
    "CIP": {
      "description": "The CIP number (without leading 0), or '?' before being assigned. If a string (not '?'), it must start with 'CIP-'",
      "oneOf": [
        {
          "type": "string",
          "pattern": "^\\?$"
        },
        {
          "type": "integer",
          "minimum": 1
        },
        {
          "type": "string",
          "pattern": "^CIP-.+$"
        }
      ]
    },
    "Title": {
      "description": "A succinct and descriptive title. Don't use backticks (`) in titles since they disrupt formatting in other contexts. Must be less than 100 characters.",
      "type": "string",
      "minLength": 1,
      "maxLength": 100,
      "not": {
        "pattern": "`"
      }
    },
    "Category": {
      "description": "One of the editorially accepted categories covering one area of the ecosystem",
      "type": "string",
      "enum": [
        "Meta",
        "Wallets",
        "Tokens",
        "Metadata",
        "Tools",
        "Plutus",
        "Ledger",
        "Consensus",
        "Network",
        "?"
      ]
    },
    "Status": {
      "description": "Status of the CIP: Proposed, Active, or Inactive (with optional reason)",
      "type": "string",
      "pattern": "^(Proposed|Active|Inactive(?:\\s+\\(.*\\))?)$"
    },
    "Authors": {
      "description": "A list of authors' real names and email addresses (e.g. John Doe <john.doe@email.domain>)",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string",
        "pattern": "^.+\\s+<.+>$",
        "description": "Author entry in format: Name <email@domain.com>"
      }
    },
    "Implementors": {
      "description": "A list of implementors committed to delivering an implementation, 'N/A' when not applicable, or [] when there's currently no implementor",
      "oneOf": [
        {
          "type": "string",
          "enum": ["N/A"]
        },
        {
          "type": "array",
          "items": {
            "type": "string",
            "minLength": 1
          }
        }
      ],
      "default": []
    },
    "Discussions": {
      "description": "A list of links where major technical discussions regarding this CIP happened. Must include a link to the pull request that created the CIP.",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string",
        "format": "uri",
        "description": "URL to a discussion or pull request"
      }
    },
    "Solution-To": {
      "description": "A list of CPS (Cardano Problem Statements) that this CIP addresses, if any. Omitted when not applicable.",
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string",
        "minLength": 1,
        "description": "Reference to a CPS (e.g., CPS-0001)"
      }
    },
    "Created": {
      "description": "Date created on, in ISO 8601 (YYYY-MM-DD) format",
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "format": "date"
    },
    "License": {
      "description": "Abbreviation of an approved license",
      "type": "string",
      "enum": [
        "CC-BY-4.0",
        "Apache-2.0"
      ]
    }
  },
  "additionalProperties": false
}

